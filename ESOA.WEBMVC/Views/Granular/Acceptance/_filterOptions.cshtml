<div>
    <div class="row g-2 justify-content-start">
        <div class="col-sm-auto">
                            
            <div class="row p-1 justify-content-end">
                <div class="col-auto">
                    <label>Customer:</label>
                </div>
                <div class="col-auto">
                    <select class="form-select form-select-sm" id="select-customer" multiple="multiple" style="width: 240px">
                        @foreach (var item in ViewBag.CustomerList)
                        {
                            <option value="@item.Value">@item.Name</option>
                        }
                    </select>
                </div>
            </div>
            <div class="row p-1 justify-content-end">
                <div class="col-auto">
                    <label>Date from:</label>
                </div>
                <div class="col-auto">
                    <input id="date-from" type="date" class="form-control form-control-sm" style="width: 240px" />
                </div>
            </div>

            <div class="row p-1 justify-content-end">
                <div class="col-auto">
                    <label>Date to:</label>
                </div>
                <div class="col-auto">
                    <input id="date-to" type="date" class="form-control form-control-sm" style="width: 240px" />
                </div>
            </div>

        </div>

        <div class="col-sm-auto">

            <div class="row p-1 justify-content-end">
                <div class="col-auto">
                    <label>Search:</label>
                </div>
                <div class="col-auto">
                    <input id="search" type="search" class="form-control form-control-sm" style="width: 240px" />
                </div>
            </div>
            <div class="row p-1 justify-content-end">
                <div class="col-auto">
                    <label>Product Type:</label>
                </div>
                <div class="col-auto">
                    <select class="form-select form-select-sm" id="select-product-type" style="width: 240px">
                        @foreach (var item in ViewBag.ProductTypeList)
                        {
                            <option value="@item.Value">@item.Name</option>
                        }
                    </select>
                </div> 
            </div>

        </div>

        <div class="col-12">
            <button type="button" class="btn btn-sm btn-primary btn-primary-soa" onclick="ProceedExecuteFilter();"><i class="fa fa-info"></i> Search</button>
            <button type="button" class="btn btn-sm btn-primary btn-primary-soa" onclick="Refresh();"><i class="fa fa-list"></i>Refresh</button>
            <button type="button" class="btn btn-sm btn-primary btn-primary-soa" onclick="ExportToExcelAcceptance();"><i class="fa fa-list"></i>Extract</button>
            <button type="button" class="btn btn-sm btn-primary btn-primary-soa" onclick="Upload();"><i class="fa fa-list"></i>Upload</button>
        </div>

    </div> 
</div> 



<script>

    $(document).ready(function () {
        $('#select-customer').select2();
        document.getElementById("select-product-type").selectedIndex = "-1";

        //will disable the dates on or before the date from selection
        $('#date-from').on('change', function () {
            const fromDate = new Date($(this).val());

            if (!isNaN(fromDate.getTime())) {
                // Add one day to fromDate
                const nextDay = new Date(fromDate);
                nextDay.setDate(fromDate.getDate() + 1);

                // Format to yyyy-mm-dd
                const yyyy = nextDay.getFullYear();
                const mm = String(nextDay.getMonth() + 1).padStart(2, '0');
                const dd = String(nextDay.getDate()).padStart(2, '0');
                const minDate = `${yyyy}-${mm}-${dd}`;

                // Set min attribute of #date-to
                $('#date-to').attr('min', minDate);
            } else {
                // Clear the min attribute if invalid
                $('#date-to').removeAttr('min');
            }
        });
    }); 

    function ProceedExecuteFilter() {
        ExecuteFilter('no');
    }

</script>


