<div>
    <div class="row p-1 justify-content-start">
        <div class="col-sm-auto">
            
            <div class="row p-1 justify-content-end">
                <div class="col-auto">
                    <label>Customer:</label>
                </div>
                <div class="col-auto">
                    <select class="form-control form-control-sm" id="select-customer" multiple="multiple" style="width: 240px">
                        @foreach (var item in ViewBag.CustomerList)
                        {
                            <option value="@item.Value">@item.Name</option>
                        }
                    </select>
                </div>
            </div>
            <div class="row p-1 justify-content-end">
                <div class="col-auto">
                    <label>Date from:</label>
                </div>
                <div class="col-auto">
                    <input id="date-from" type="date" class="form-control form-control-sm" style="width: 240px"/> 
                </div>
            </div>
            <div class="row p-1 justify-content-end">
                <div class="col-auto" >
                    <label>Date to:</label>
                </div>
                <div class="col-auto">
                    <input id="date-to" type="date" class="form-control form-control-sm" style="width: 240px"/>
                </div>
            </div> 

        </div>
    </div>

    <div class="row p-1 justify-content-start">
        <div class="col-4">
            <button type="button" class="btn btn-sm btn-primary btn-primary-soa" onclick="ProceedExecuteFilter();"><i class="fa fa-info"></i> Search</button>
            <button type="button" class="btn btn-sm btn-primary btn-primary-soa" onclick="ExportToExcelSOAFormatA();"><i class="fa fa-list"></i>Extract</button>
            <button type="button" class="btn btn-sm btn-primary btn-primary-soa" onclick="Email();"><i class="fa fa-list"></i>Email</button>
        </div>
        <div class="col-8 text-start">
            <h3><a>ELECTRONIC STATEMENT OF ACCOUNT</a></h3>
        </div>
    </div>

</div> 



<script>

    $(document).ready(function () {
        $('#select-customer').select2(); 

        //will disable the dates on or before the date from selection
        $('#date-from').on('change', function () {
            const fromDate = new Date($(this).val());

            if (!isNaN(fromDate.getTime())) {
                // Add one day to fromDate
                const nextDay = new Date(fromDate);
                nextDay.setDate(fromDate.getDate() + 1);

                // Format to yyyy-mm-dd
                const yyyy = nextDay.getFullYear();
                const mm = String(nextDay.getMonth() + 1).padStart(2, '0');
                const dd = String(nextDay.getDate()).padStart(2, '0');
                const minDate = `${yyyy}-${mm}-${dd}`;

                // Set min attribute of #date-to
                $('#date-to').attr('min', minDate);
            } else {
                // Clear the min attribute if invalid
                $('#date-to').removeAttr('min');
            }
        });
    }); 

    function ProceedExecuteFilter() {
        ExecuteFilter('no');
    } 

</script>


